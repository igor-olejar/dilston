{
  "name": "mac",
  "version": "0.3.0",
  "description": "A tiny library designed to parallel or series chain streams, promises or functions with callbacks.",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/treshugart/mac"
  },
  "keywords": [
    "stream",
    "promise",
    "callback",
    "parallel",
    "series",
    "chain",
    "async",
    "asynchronous",
    "sync",
    "synchronous"
  ],
  "author": {
    "name": "Trey Shugart",
    "email": "treshugart@gmail.com",
    "url": "http://treshugart.github.io"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/treshugart/mac/issues"
  },
  "homepage": "https://github.com/treshugart/mac",
  "readme": "# mac\n\n> \"Never break the chain.\" - Fleetwood Mac\n\nA tiny library designed to parallel or series chain streams, promises or functions with callbacks.\n\n## Installing\n\n```\nnpm install mac\n```\n\n## Including\n\n```\nvar mac = require('mac');\n```\n\n## Usage\n\nMac is designed to work with any combination of streams, promises or functions that define a single argument and will ensure that they are called in parallel or series. Since Mac returns a function that defines a callback, you can pass it into itself. The function that is returned when called begins executing the Mac chain.\n\n### Streams\n\nWorking with streams allows it to work with a multitude of libraries, most notably of these is probably Gulp, but it can be used with any sort of stream.\n\nThe following would ensure that your JS is transpiled from ES6 to ES5 and when that is finished it would then minify the `dist`.\n\n```js\nvar js = mac.series(\n  gulp.src('src/*.js').pipe(gulpBabelify).dest('dist'),\n  gulp.src('dist/*.js').pipe(gulpUglify).dest('dist')\n);\n```\n\nIf you want to run some tasks in paralell you can do that too. For example, if you wanted to take your JavaScript task and run it in parallel with your Less task, go for it:\n\n```js\nvar dist = mac.parallel(\n  js,\n  gulp.src('src/*.less').pipe(gulpLess).dest('dist')\n);\n```\n\nGulp is probably the shining example of this as most people will know it, but it can work with any stream that emits the `finish` event.\n\n### Promises\n\nIf you wanted to run two `fetch` (returns a promise, see: https://github.com/github/fetch) requests ensuring the first one is called before the second one:\n\n```js\nmac.series(\n  fetch('some/endpoint'),\n  fetch('something/else')\n);\n```\n\n### Functions\n\nIf you wanted to execute a series of functions ensuring one finishes before the other, you should define a single argument. This argument is a callback that you call in order to say that you're done doing whatever you're doing. Once called, it will proceed to the next.\n\n```js\nmac.series(\n  function (done) {\n    setTimeout(done, 100);\n  },\n\n  function (done) {\n\t  updateSomething();\n\t  done();\n  }\n);\n```\n\nIf your task doesn't need to report back, then you don't have to define a callback and call it and it will be called and passed through.\n\n```js\nmac.series(\n  function (done) {\n\t  setTimeout(done, 100);\n  },\n\n  function () {\n\t  updateSomething();\n  }\n);\n```\n\n### Build Example\n\nThe following is what an ES6 and Less project build might look like. It breaks each part down into separate functions that can be run individually, or batched using the main `dist` module. I chose not to require all the dependencies to reduce cruft, so just assume they're there.\n\n```js\n// tasks/dist/babelify.js\n\nmodule.exports = function () {\n  return gulp.src('src/*.js')\n    .pipe(gulpBabelify)\n    .pipe(gulp.dest('dist'));\n};\n\n// tasks/dist/uglify.js\n\nmodule.exports = function () {\n  return gulp.src('dist/*.js')\n    .pipe(gulpUglify)\n    .pipe(gulp.dest('dist'));\n};\n\n// tasks/dist/js.js\n\nmodule.exports = function () {\n  return mac.series(\n    require('./babelify'),\n    require('./uglify')\n  );\n};\n\n// tasks/dist/less.js\n\nmodule.exports = function () {\n  return gulp.src('src/*.less')\n    .pipe(gulpLess)\n    .pipe(gulp.dist('dist'));\n};\n\n// tasks/dist/cssmin.js\n\nmodule.exports = function () {\n  return gulp.src('dist/*.css')\n    .pipe(gulpCssmin)\n    .pipe(gulp.dist('dist'));\n};\n\n// tasks/dist/css.js\n\nmodule.exports = mac.series(\n  require('./less'),\n  require('./cssmin')\n);\n\n// tasks/dist.js\n\nmodule.exports = mac.parallel(\n  require('./dist/css'),\n  require('./dist/js')\n);\n\n```\n",
  "readmeFilename": "README.md",
  "_id": "mac@0.3.0",
  "_from": "mac@0.x.x"
}
